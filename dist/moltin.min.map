{"version":3,"sources":["moltin.js"],"names":["Moltin","__indexOf","indexOf","item","i","l","this","length","__hasProp","hasOwnProperty","__extends","child","parent","ctor","constructor","key","call","prototype","__super__","overrides","options","Merge","Storage","Address","Brand","Cart","Category","Checkout","Collection","Currency","Customer","Entry","Gateway","Language","Order","Product","Shipping","Tax","get","currency","language","Abstract","publicId","secretKey","auth","url","version","debug","methods","notice","type","msg","console","log","o1","o2","k","o3","v","InArray","arr","Serialize","obj","prefix","str","push","encodeURIComponent","join","Error","response","_ref","errors","error","Authenticate","callback","data","_e","parseInt","Date","now","token","expires","document","createEvent","initCustomEvent","window","dispatchEvent","grant_type","client_id","Ajax","method","path","async","headers","Content-Type","success","_this","r","c","e","access_token","set","Request","uri","_data","_headers","Authorization","result","pagination","status","args","request","timeout","host","port","toUpperCase","XMLHttpRequest","_error","ActiveXObject","substr","open","setTimeout","abort","setRequestHeader","onreadystatechange","readyState","clearTimeout","JSON","parse","responseText","toString","charAt","send","value","days","date","setTime","getTime","toGMTString","cookie","_i","_len","split","substring","remove","m","Get","id","endpoint","Find","terms","List","Fields","customer","Create","_super","apply","arguments","cartId","Identifier","reset","replace","Math","random","Contents","Insert","qty","mods","quantity","modifier","Update","Delete","Remove","Item","InCart","Complete","Discount","code","Tree","Payment","order","Set","Login","Logout","GetOrders","GetOrder","GetOrderItems","GetAddresses","CreateAddress","GetAddress","address","UpdateAddress","GetAddressFields","flow","slug","Search","Modifiers","Variations"],"mappings":"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","file":"moltin.min.js","sourcesContent":["var Moltin,\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nMoltin = (function() {\n  \"use strict\";\n  var Abstract, Address, Brand, Cache, Cart, Category, Checkout, Collection, Currency, Customer, CustomerGroup, Email, Entry, Field, Flow, Gateway, Language, Modifier, Order, Payment, Product, Promotion, Shipping, Stats, Storage, Tax, Transaction, Variation, Webhook;\n\n  Moltin.prototype.options = {\n    publicId: '',\n    secretKey: '',\n    auth: {},\n    url: 'api.molt.in',\n    version: 'v1',\n    debug: false,\n    currency: false,\n    language: false,\n    methods: ['GET', 'POST', 'PUT', 'DELETE'],\n    notice: function(type, msg) {\n      return console.log(type + \": \" + msg);\n    }\n  };\n\n  function Moltin(overrides) {\n    this.options = this.Merge(this.options, overrides);\n    this.Storage = new Storage;\n    this.Address = new Address(this);\n    this.Brand = new Brand(this);\n    this.Cart = new Cart(this);\n    this.Category = new Category(this);\n    this.Checkout = new Checkout(this);\n    this.Collection = new Collection(this);\n    this.Currency = new Currency(this);\n    this.Customer = new Customer(this);\n    this.Entry = new Entry(this);\n    this.Gateway = new Gateway(this);\n    this.Language = new Language(this);\n    this.Order = new Order(this);\n    this.Product = new Product(this);\n    this.Shipping = new Shipping(this);\n    this.Tax = new Tax(this);    if (this.Storage.get('mcurrency')) {\n      this.options.currency = this.Storage.get('mcurrency');\n    }\n    if (this.Storage.get('mlanguage')) {\n      this.options.language = this.Storage.get('mlanguage');\n    }\n  }\n\n  Moltin.prototype.Merge = function(o1, o2) {\n    var k, o3, v;\n    o3 = {};\n    for (k in o1) {\n      v = o1[k];\n      o3[k] = v;\n    }\n    for (k in o2) {\n      v = o2[k];\n      o3[k] = v;\n    }\n    return o3;\n  };\n\n  Moltin.prototype.InArray = function(key, arr) {\n    if (__indexOf.call(arr, key) < 0) {\n      return false;\n    }\n    return true;\n  };\n\n  Moltin.prototype.Serialize = function(obj, prefix) {\n    var k, str, v;\n    if (prefix == null) {\n      prefix = null;\n    }\n    str = [];\n    for (k in obj) {\n      v = obj[k];\n      k = prefix !== null ? prefix + '[' + k + ']' : k;\n      str.push(typeof v === 'object' ? this.Serialize(v, k) : encodeURIComponent(k) + '=' + encodeURIComponent(v));\n    }\n    return str.join('&');\n  };\n\n  Moltin.prototype.Error = function(response) {\n    var k, msg, v, _ref;\n    msg = '';\n    if (typeof response.errors !== 'undefind') {\n      _ref = response.errors;\n      for (k in _ref) {\n        v = _ref[k];\n        msg += v + '<br />';\n      }\n    } else {\n      msg = response.error;\n    }\n    return this.options.notice('Error', msg);\n  };\n\n  Moltin.prototype.Authenticate = function(callback, error) {\n    var data, _e;\n    if (this.options.publicId.length <= 0) {\n      if (typeof error === 'function') {\n        error('error', 'Public ID must be set', 401);\n      }\n    }    if (this.Storage.get('mtoken') !== null && parseInt(this.Storage.get('mexpires')) > Date.now()) {\n      this.options.auth = {\n        token: this.Storage.get('mtoken'),\n        expires: this.Storage.get('mexpires')\n      };\n      if (typeof callback === 'function') {\n        callback(this.options.auth);\n      }      _e = document.createEvent('CustomEvent');\n      _e.initCustomEvent('MoltinReady', false, false, this);\n      window.dispatchEvent(_e);      return this;\n    }    data = {\n      grant_type: 'implicit',\n      client_id: this.options.publicId\n    };    this.Ajax({\n      method: 'POST',\n      path: '/oauth/access_token',\n      data: data,\n      async: typeof callback === 'function' ? true : false,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      success: (function(_this) {\n        return function(r, c, e) {\n          _this.options.auth = {\n            token: r.access_token,\n            expires: parseInt(r.expires) * 1000\n          };\n          _this.Storage.set('mtoken', r.access_token);\n          _this.Storage.set('mexpires', _this.options.auth.expires);\n          if (typeof callback === 'function') {\n            callback(r);\n          }          _e = document.createEvent('CustomEvent');\n          _e.initCustomEvent('MoltinReady', false, false, _this);\n          window.dispatchEvent(_e);\n          return        };\n      })(this),\n      error: (function(_this) {\n        return function(e, c, r) {\n          if (typeof error === 'function') {\n            return error('error', 'Authorization failed', 401);\n          }\n        };\n      })(this)\n    });\n    return this;\n  };\n\n  Moltin.prototype.Request = function(uri, method, data, callback, error) {\n    var _data, _headers;\n    if (method == null) {\n      method = 'GET';\n    }\n    if (data == null) {\n      data = null;\n    }\n    _data = {};\n    _headers = {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Bearer ' + this.options.auth.token\n    };\n    if (this.options.auth.token === null) {\n      if (typeof error === 'function') {\n        error('error', 'You much authenticate first', 401);\n      }\n    }\n    if (Date.now() > parseInt(this.Storage.get('mexpires'))) {\n      this.Authenticate(null, error);\n    }\n    if (!this.InArray(method, this.options.methods)) {\n      if (typeof error === 'function') {\n        error('error', 'Invalid request method (' + method + ')', 400);\n      }\n    }\n    if (this.options.currency) {\n      _headers['X-Currency'] = this.options.currency;\n    }\n    if (this.options.language) {\n      _headers['X-Language'] = this.options.language;\n    }\n    this.Ajax({\n      method: method,\n      path: uri,\n      data: data,\n      async: typeof callback === 'function' ? true : false,\n      headers: _headers,\n      success: (function(_this) {\n        return function(r, c, e) {\n          if (typeof callback === 'function') {\n            return callback(r.result, typeof r.pagination !== 'undefined' ? r.pagination : null);\n          } else {\n            return _data = r;\n          }\n        };\n      })(this),\n      error: (function(_this) {\n        return function(r, c, e) {\n          if (r.status === false) {\n            if (typeof error === 'function') {\n              error('error', (typeof r.errors !== 'undefined' ? r.errors : r.error), c);\n            } else {\n              _this.Error((typeof r.errors !== 'undefined' ? r.errors : r.error));\n            }\n          }\n          return _data = r;\n        };\n      })(this)\n    });\n    if (typeof callback === 'undefined') {\n      return _data.result;\n    }\n  };\n\n  Moltin.prototype.Ajax = function(options) {\n    var args, e, k, request, timeout, v, _ref;\n    args = {\n      method: 'GET',\n      async: false,\n      data: null,\n      timeout: 60000,\n      headers: {},\n      host: this.options.url,\n      port: 443,\n      path: '/',\n      success: function(response, status, request) {},\n      error: function(response, status, request) {}\n    };\n    args = this.Merge(args, options);\n    args.method = args.method.toUpperCase();\n    try {\n      request = new XMLHttpRequest();\n    } catch (_error) {\n      e = _error;\n      try {\n        request = new ActiveXObject(\"Msxml2.XMLHTTP\");\n      } catch (_error) {\n        e = _error;\n        return false;\n      }\n    }\n    args.url = (args.port === 443 ? 'https://' : 'http://') + args.host + (args.path.substr(0, 1) !== '/' ? '/' + this.options.version + '/' + args.path : args.path);\n    if (args.method === 'GET') {\n      args.url += '?' + this.Serialize(args.data);\n      args.data = null;\n    } else {\n      args.data = this.Serialize(args.data);\n    }\n    request.open(args.method, args.url, args.async);\n    timeout = setTimeout((function(_this) {\n      return function() {\n        request.abort();\n        return args.error(request, 408, 'Your request timed out');\n      };\n    })(this), args.timeout);\n    _ref = args.headers;\n    for (k in _ref) {\n      v = _ref[k];\n      request.setRequestHeader(k, v);\n    }\n    request.onreadystatechange = function() {\n      var response;\n      if (request.readyState !== 4) {\n        return null;\n      }\n      clearTimeout(timeout);\n      response = JSON.parse(request.responseText);\n      if (request.status.toString().charAt(0) !== '2') {\n        return args.error(response, request.status, request);\n      } else {\n        return args.success(response, request.status, request);\n      }\n    };\n    return request.send(args.data);\n  };\n\n  Storage = (function() {\n    function Storage() {}\n\n    Storage.prototype.set = function(key, value, days) {\n      var date, expires;\n      expires = \"\";\n      if (days) {\n        date = new Date;\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        expires = \"; expires=\" + date.toGMTString();\n      }\n      return document.cookie = key + \"=\" + value + expires + \"; path=/\";\n    };\n\n    Storage.prototype.get = function(key) {\n      var c, _i, _len, _ref;\n      key = key + \"=\";\n      _ref = document.cookie.split(';');\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        c = _ref[_i];\n        while (c.charAt(0) === ' ') {\n          c = c.substring(1, c.length);\n        }\n        if (c.indexOf(key) === 0) {\n          return c.substring(key.length, c.length);\n        }\n      }\n      return null;\n    };\n\n    Storage.prototype.remove = function(key) {\n      return this.set(key, '', -1);\n    };\n\n    return Storage;\n\n  })();\n\n  Abstract = (function() {\n    function Abstract(m) {\n      this.m = m;\n    }\n\n    Abstract.prototype.Get = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '/' + id, 'GET', null, callback, error);\n    };\n\n    Abstract.prototype.Find = function(terms, callback, error) {\n      return this.m.Request(this.endpoint, 'GET', terms, callback, error);\n    };\n\n    Abstract.prototype.List = function(terms, callback, error) {\n      return this.m.Request(this.endpoint, 'GET', terms, callback, error);\n    };\n\n    Abstract.prototype.Fields = function(id, callback, error) {\n      var uri;\n      if (id == null) {\n        id = 0;\n      }\n      uri = this.endpoint + '/' + (id !== 0 ? id + '/fields' : 'fields');\n      return this.m.Request(uri, 'GET', null, callback, error);\n    };\n    return Abstract;\n\n  })();\n\n  Address = (function() {\n    function Address(m) {\n      this.m = m;\n    }\n\n    Address.prototype.Get = function(customer, id, callback, error) {\n      return this.m.Request('customers/' + customer + '/addresses/' + id, 'GET', null, callback, error);\n    };\n\n    Address.prototype.Find = function(customer, terms, callback, error) {\n      return this.m.Request('customers/' + customer + '/addresses', 'GET', terms, callback, error);\n    };\n\n    Address.prototype.List = function(customer, terms, callback, error) {\n      return this.m.Request('customers/' + customer + '/addresses', 'GET', terms, callback, error);\n    };\n\n    Address.prototype.Create = function(customer, data, callback, error) {\n      return this.m.Request('customers/' + customer + '/addresses', 'POST', data, callback, error);\n    };\n\n    Address.prototype.Fields = function(customer, id, callback, error) {\n      var uri;\n      if (customer == null) {\n        customer = 0;\n      }\n      if (id == null) {\n        id = 0;\n      }\n      if (customer > 0 && id <= 0) {\n        uri = 'customers/' + customer + '/addresses/fields';\n      } else if (customer > 0 && id > 0) {\n        uri = 'customers/' + customer + '/addresses/' + id + '/fields';\n      } else {\n        uri = 'addresses/fields';\n      }\n      return this.m.Request(uri, 'GET', null, callback, error);\n    };\n    return Address;\n\n  })();\n\n  Brand = (function(_super) {\n    __extends(Brand, _super);\n\n    function Brand() {\n      return Brand.__super__.constructor.apply(this, arguments);\n    }\n\n    Brand.prototype.endpoint = 'brands';\n\n    return Brand;\n\n  })(Abstract);\n  Cart = (function() {\n    function Cart(m) {\n      this.m = m;\n      this.cartId = this.Identifier();\n    }\n\n    Cart.prototype.Identifier = function(reset, id) {\n      if (reset == null) {\n        reset = false;\n      }\n      if (id == null) {\n        id = false;\n      }\n      if (!reset && !id && this.m.Storage.get('mcart') !== null) {\n        return this.m.Storage.get('mcart');\n      }\n      if (!id) {\n        id = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, function(c) {\n          return (Math.random() * 16 | 0).toString(16);\n        });\n      }\n      this.m.Storage.set('mcart', id);\n      this.cartId = id;\n      return id;\n    };\n\n    Cart.prototype.Contents = function(callback, error) {\n      return this.m.Request('carts/' + this.cartId, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Insert = function(id, qty, mods, callback, error) {\n      if (qty == null) {\n        qty = 1;\n      }\n      if (mods == null) {\n        mods = null;\n      }\n      return this.m.Request('carts/' + this.cartId, 'POST', {\n        id: id,\n        quantity: qty,\n        modifier: mods\n      }, callback, error);\n    };\n\n    Cart.prototype.Update = function(id, data, callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/item/' + id, 'PUT', data, callback, error);\n    };\n\n    Cart.prototype.Delete = function(callback, error) {\n      return this.m.Request('carts/' + this.cartId, 'DELETE', null, callback, error);\n    };\n\n    Cart.prototype.Remove = function(id, callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/item/' + id, 'DELETE', null, callback, error);\n    };\n\n    Cart.prototype.Item = function(id, callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/item/' + id, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.InCart = function(id, callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/has/' + id, 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Checkout = function(callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/checkout', 'GET', null, callback, error);\n    };\n\n    Cart.prototype.Complete = function(data, callback, error) {\n      return this.m.Request('carts/' + this.cartId + '/checkout', 'POST', data, callback, error);\n    };\n\n    Cart.prototype.Discount = function(code, callback, error) {\n      if (code === null || code === false) {\n        return this.m.Request('carts/' + this.cartId + '/discount', 'DELETE', null, callback, error);\n      }\n      return this.m.Request('carts/' + this.cartId + '/discount', 'POST', {\n        code: code\n      }, callback.error);\n    };\n    return Cart;\n\n  })();\n\n  Category = (function(_super) {\n    __extends(Category, _super);\n\n    function Category() {\n      return Category.__super__.constructor.apply(this, arguments);\n    }\n\n    Category.prototype.endpoint = 'categories';\n\n    Category.prototype.Tree = function(terms, callback, error) {\n      return this.m.Request(this.endpoint + '/tree', 'GET', terms, callback, error);\n    };\n    return Category;\n\n  })(Abstract);\n\n  Checkout = (function() {\n    function Checkout(m) {\n      this.m = m;\n    }\n\n    Checkout.prototype.Payment = function(method, order, data, callback, error) {\n      return this.m.Request('checkout/payment/' + method + '/' + order, 'POST', data, callback, error);\n    };\n\n    return Checkout;\n\n  })();\n\n  Collection = (function(_super) {\n    __extends(Collection, _super);\n\n    function Collection() {\n      return Collection.__super__.constructor.apply(this, arguments);\n    }\n\n    Collection.prototype.endpoint = 'collections';\n\n    return Collection;\n\n  })(Abstract);\n\n  Currency = (function(_super) {\n    __extends(Currency, _super);\n\n    function Currency() {\n      return Currency.__super__.constructor.apply(this, arguments);\n    }\n\n    Currency.prototype.endpoint = 'currencies';\n\n    Currency.prototype.Set = function(code, callback, error) {\n      this.m.Storage.set('mcurrency', code);\n      this.m.options.currency = code;\n      if (typeof callback === 'function') {\n        return callback(code);\n      }\n    };\n\n    return Currency;\n\n  })(Abstract);\n\n  Customer = (function(_super) {\n    __extends(Customer, _super);\n\n    function Customer(m) {\n      this.m = m;\n    }\n\n    Customer.prototype.Login = function(data, callback, error) {\n      return this.m.Request(this.endpoint + '/token', 'POST', data, callback, error);\n    };\n\n    Customer.prototype.Logout = function(token, callback, error) {\n      return this.m.Request(this.endpoint + '/token/' + token, 'DELETE', null, callback, error);\n    };\n\n    Customer.prototype.GetOrders = function(token, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/orders', 'GET', null, callback, error);\n    };\n\n    Customer.prototype.GetOrder = function(token, order, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/orders/' + order, 'GET', null, callback, error);\n    };\n\n    Customer.prototype.GetOrderItems = function(token, order, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/orders/' + order + '/items', 'GET', null, callback, error);\n    };\n\n    Customer.prototype.GetAddresses = function(token, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/addresses', 'GET', null, callback, error);\n    };\n\n    Customer.prototype.CreateAddress = function(token, data, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/addresses', 'POST', data, callback, error);\n    };\n\n    Customer.prototype.GetAddress = function(token, address, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/addresses/' + address, 'GET', null, callback, error);\n    };\n\n    Customer.prototype.UpdateAddress = function(token, address, data, callback, error) {\n      return this.m.Request(this.endpoint + '/' + token + '/addresses/' + address, 'PUT', data, callback, error);\n    };\n\n    Customer.prototype.GetAddressFields = function(token, address, callback, error) {\n      var uri;\n      if (address == null) {\n        address = 0;\n      }\n      uri = this.endpoint + '/' + token + '/addresses/' + (address !== 0 ? address + '/fields' : 'fields');\n      return this.m.Request(uri, 'GET', null, callback, error);\n    };\n\n    return Customer;\n\n  })(Abstract);\n  Entry = (function() {\n    function Entry(m) {\n      this.m = m;\n    }\n\n    Entry.prototype.Get = function(flow, id, callback, error) {\n      return this.m.Request('flows/' + flow + '/entries/' + id, 'GET', null, callback, error);\n    };\n\n    Entry.prototype.Find = function(flow, terms, callback, error) {\n      return this.m.Request('flows/' + flow + '/entries/search', 'GET', terms, callback, error);\n    };\n\n    Entry.prototype.List = function(flow, terms, callback, error) {\n      return this.m.Request('flows/' + flow + '/entries', 'GET', terms, callback, error);\n    };\n    return Entry;\n\n  })();\n  Gateway = (function() {\n    function Gateway(m) {\n      this.m = m;\n    }\n\n    Gateway.prototype.Get = function(slug, callback, error) {\n      return this.m.Request('gateways/' + slug, 'GET', null, callback, error);\n    };\n\n    Gateway.prototype.List = function(terms, callback, error) {\n      return this.m.Request('gateways', 'GET', terms, callback, error);\n    };\n    return Gateway;\n\n  })();\n\n  Language = (function() {\n    function Language(m) {\n      this.m = m;\n    }\n\n    Language.prototype.Set = function(code, callback, error) {\n      this.m.Storage.set('mlanguage', code);\n      this.m.options.language = code;\n      if (typeof callback === 'function') {\n        return callback(code);\n      }\n    };\n\n    return Language;\n\n  })();\n  Order = (function(_super) {\n    __extends(Order, _super);\n\n    function Order(m) {\n      this.m = m;\n    }\n    Order.prototype.Find = function(terms, callback, error) {\n      return this.m.Request('orders', 'GET', terms, callback, error);\n    };\n\n    return Order;\n\n  })(Abstract);\n  Product = (function(_super) {\n    __extends(Product, _super);\n\n    function Product() {\n      return Product.__super__.constructor.apply(this, arguments);\n    }\n\n    Product.prototype.endpoint = 'products';\n\n    Product.prototype.Search = function(terms, callback, error) {\n      return this.m.Request(this.endpoint + '/search', 'GET', terms, callback, error);\n    };\n\n    Product.prototype.Modifiers = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '/' + id + '/modifiers', 'GET', null, callback, error);\n    };\n\n    Product.prototype.Variations = function(id, callback, error) {\n      return this.m.Request(this.endpoint + '/' + id + '/variations', 'GET', null, callback, error);\n    };\n\n    return Product;\n\n  })(Abstract);\n  Shipping = (function(_super) {\n    __extends(Shipping, _super);\n\n    function Shipping() {\n      return Shipping.__super__.constructor.apply(this, arguments);\n    }\n\n    Shipping.prototype.endpoint = 'shipping';\n\n    return Shipping;\n\n  })(Abstract);\n  Tax = (function(_super) {\n    __extends(Tax, _super);\n\n    function Tax() {\n      return Tax.__super__.constructor.apply(this, arguments);\n    }\n\n    Tax.prototype.endpoint = 'taxes';\n\n    return Tax;\n\n  })(Abstract);\n  return Moltin;\n\n})();\n\n//# sourceMappingURL=moltin.js.map\n"]}